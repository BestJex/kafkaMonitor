{"version":3,"sources":["webpack:///src/components/pages/Login.vue","webpack:///./src/components/pages/Login.vue?a3e5","webpack:///./src/components/pages/Login.vue","webpack:///./src/api/UserApi.js"],"names":["Login","name","data","form","username","password","tips","rules","required","message","trigger","registerRules","rePassword","email","validator","rule","value","callback","reg","RegExp","Error","test","registerForm","loginShow","methods","[object Object]","formName","that","this","$refs","validate","valid","console","log","Object","UserApi","then","response","code","userInfo","info","$store","state","$message","showClose","msg","type","$router","push","cookieUtil","token","resetFields","resetForm","pages_Login","render","_vm","_h","$createElement","_c","_self","staticClass","directives","rawName","expression","_v","ref","attrs","model","label-width","prop","placeholder","nativeOn","keyup","$event","indexOf","_k","keyCode","key","submitForm","$$v","$set","slot","show-password","on","click","handleRegisterClick","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","request","post","loginUrl","registerUrl","activeUrl","get","loginOutUrl","__WEBPACK_IMPORTED_MODULE_0__request_js__"],"mappings":"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","file":"static/js/7.335269d37096cdcd8915.js","sourcesContent":["<template>\n  <div class=\"login\">\n    <div class=\"login-wrap\" v-show=\"loginShow\">\n      <div class=\"login-title\">后台管理系统</div>\n      <el-form :model=\"form\" :rules=\"rules\" ref=\"form\" label-width=\"0px\" class=\"login-content\">\n        <el-form-item prop=\"username\">\n          <el-input v-model=\"form.username\" placeholder=\"请输入用户名\" @keyup.enter.native=\"submitForm('form')\">\n            <template slot=\"prepend\">帐号</template>\n          </el-input>\n        </el-form-item>\n        <el-form-item prop=\"password\">\n          <el-input show-password v-model=\"form.password\" placeholder=\"请输入密码\" @keyup.enter.native=\"submitForm('form')\">\n            <template slot=\"prepend\">密码</template>\n          </el-input>\n        </el-form-item>\n        <el-form-item class=\"login-btn\">\n          <el-row>\n            <el-button type=\"primary\" @click=\"submitForm('form')\">登录</el-button>\n          </el-row>\n          <el-row>\n            <el-button type=\"primary\" @click=\"handleRegisterClick()\">注册</el-button>\n          </el-row>\n        </el-form-item>\n      </el-form>\n    </div>\n    <!--注册-->\n    <div class=\"register-wrap\" v-show=\"!loginShow\">\n      <div class=\"login-title\">用户注册</div>\n      <el-form :model=\"registerForm\" :rules=\"registerRules\" ref=\"registerForm\" label-width=\"0px\" class=\"login-content\">\n        <el-form-item prop=\"name\">\n          <el-input v-model=\"registerForm.name\" placeholder=\"请输入用户昵称\">\n            <template slot=\"prepend\">用户昵称</template>\n          </el-input>\n        </el-form-item>\n        <el-form-item prop=\"username\">\n          <el-input v-model=\"registerForm.username\" placeholder=\"请输入登录账号\">\n            <template slot=\"prepend\">登录帐号</template>\n          </el-input>\n        </el-form-item>\n        <el-form-item prop=\"email\">\n          <el-input v-model=\"registerForm.email\" placeholder=\"请输入登录账号\">\n            <template slot=\"prepend\">注册邮箱</template>\n          </el-input>\n        </el-form-item>\n        <el-form-item prop=\"password\">\n          <el-input show-password v-model=\"registerForm.password\" placeholder=\"请输入密码\">\n            <template slot=\"prepend\">登录密码</template>\n          </el-input>\n        </el-form-item>\n        <el-form-item prop=\"rePassword\">\n          <el-input show-password v-model=\"registerForm.rePassword\" placeholder=\"请输入密码\">\n            <template slot=\"prepend\">密码确认</template>\n          </el-input>\n        </el-form-item>\n        <el-form-item class=\"login-btn\">\n          <el-row>\n            <el-button type=\"primary\" @click=\"submitForm('registerForm')\">注册</el-button>\n          </el-row>\n          <el-row>\n            <el-button type=\"primary\" @click=\"handleRegisterClick()\">返回登录</el-button>\n          </el-row>\n        </el-form-item>\n      </el-form>\n    </div>\n\n\n  </div>\n</template>\n<script>\n\n  import {login, register, active} from '../../api/UserApi'\n  import {getCookie, setCookie, delCookie} from '../../util/cookieUtil'\n\n  export default {\n    name: \"Login\",\n    data() {\n      let validateEmail = (rule, value, callback) => {\n        let reg = new RegExp(\"^[a-z0-9]+([._\\\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$\");\n        if (value === '') {\n          callback(new Error('请输入邮箱地址'));\n        } else {\n          if (!reg.test(value)) {\n            callback(new Error('邮箱地址不合法'));\n          } else {\n            // this.$refs.ruleForm.validateField('checkName');\n            callback();\n          }\n        }\n      };\n      return {\n        form: {\n          username: '',\n          password: '',\n          tips: ''\n        },\n        rules: {\n          username: [\n            {required: true, message: '请输入用户名', trigger: 'blur'}\n          ],\n          password: [\n            {required: true, message: '请输入密码', trigger: 'blur'}\n          ]\n        },\n        registerRules: {\n          name: [\n            {required: true, message: '请输入昵称', trigger: 'blur'}\n          ],\n          username: [\n            {required: true, message: '请输入账号', trigger: 'blur'}\n          ],\n          password: [\n            {required: true, message: '请输入密码', trigger: 'blur'}\n          ],\n          rePassword: [\n            {required: true, message: '请再次输入密码', trigger: 'blur'}\n          ],\n          email: [\n            {validator: validateEmail, trigger: 'blur'}\n          ]\n        },\n        registerForm: {\n          name: '',\n          username: '',\n          password: '',\n          rePassword: '',//密码确认\n          email: '',\n          tips: ''\n        },\n        loginShow: true\n      }\n    },\n    methods: {\n      submitForm(formName) {\n        if ('registerForm' === formName) {\n          let that = this;\n          this.$refs[formName].validate((valid) => {\n            if (valid) {\n              //注册\n              if (that.registerForm.password !== that.registerForm.rePassword) {\n                this.$message({\n                  //消息弹窗组件,类似toast\n                  showClose: true,\n                  message: '密码输入不一致',\n                  type: 'error'\n                });\n                return;\n              }\n              //注册\n              register(this.registerForm.name, this.registerForm.username, this.registerForm.password, this.registerForm.email).then(response => {\n                let data = response.data;\n                if (data.code === 200) {\n                  let userInfo = data.data;\n                  console.info(userInfo);\n                  //昵称\n                  this.$store.state.name = userInfo.name;\n                  //账号\n                  this.$store.state.username = userInfo.username;\n                  // this.$router.push('/');\n                  this.$message({\n                    //消息弹窗组件,类似toast\n                    showClose: true,\n                    message: data.msg,\n                    type: 'success'\n                  });\n                  //发送激活邮件\n                  active(userInfo.username, userInfo.password).then(response => {\n                    let data = response.data;\n                    if (data.code === 200) {\n                      this.$message({\n                        //消息弹窗组件,类似toast\n                        showClose: true,\n                        message: '激活邮件发送成功，请到邮箱中激活账号',\n                        type: 'success'\n                      });\n                      this.$router.push('/');\n                    } else {\n                      this.$message({\n                        //消息弹窗组件,类似toast\n                        showClose: true,\n                        message: data.msg,\n                        type: 'error'\n                      });\n                    }\n                  })\n                } else {\n                  this.$message({\n                    //消息弹窗组件,类似toast\n                    showClose: true,\n                    message: data.msg,\n                    type: 'error'\n                  });\n                }\n              });\n\n            } else {\n              console.log('error submit!!');\n              return false;\n            }\n          });\n        }\n        if ('form' === formName) {\n          this.$refs[formName].validate((valid) => {\n            if (valid) {\n              // window.localStorage.setItem('loginUserBaseInfo',this.form.username);\n              login(this.form.username, this.form.password).then(response => {\n                let data = response.data;\n                if (data.code === 200) {\n                  let userInfo = data.data;\n                  // console.info(userInfo);\n                  setCookie('token', userInfo.token, 2);\n                  //昵称\n                  this.$store.state.name = userInfo.name;\n                  //账号\n                  this.$store.state.username = userInfo.username;\n                  this.$router.push('/');\n                } else {\n                  this.$message({\n                    //消息弹窗组件,类似toast\n                    showClose: true,\n                    message: data.msg,\n                    type: 'error'\n                  });\n                }\n              });\n            } else {\n              console.log('error submit!!');\n              return false;\n            }\n          });\n        }\n      },\n      resetForm(formName) {\n        this.$refs[formName].resetFields();\n      },\n      handleRegisterClick() {\n        this.loginShow = !this.loginShow;\n        this.resetForm('registerForm');\n      }\n    },\n  }\n</script>\n\n<style scoped>\n  .login {\n    position: relative;\n    width: 100%;\n    height: 100%;\n    background-image: url(../../assets/img/login-bg.jpg);\n    background-size: 100%;\n  }\n\n  .login-wrap {\n    position: absolute;\n    left: 60%;\n    top: 30%;\n    width: 25%;\n    /*margin:-190px 0 0 -175px;*/\n    border-radius: 5px;\n    background: white;\n    /*background: rgba(255,255,255, 0.3);*/\n    overflow: hidden;\n  }\n\n  .register-wrap {\n    position: absolute;\n    left: 60%;\n    top: 10%;\n    width: 25%;\n    /*margin:-190px 0 0 -175px;*/\n    border-radius: 5px;\n    background: white;\n    /*background: rgba(255,255,255, 0.3);*/\n    overflow: hidden;\n  }\n\n  .login-title {\n    width: 100%;\n    line-height: 50px;\n    text-align: center;\n    font-size: 20px;\n    /*color: #fff;*/\n    color: black;\n    border-bottom: 1px solid #ddd;\n  }\n\n  .login-content {\n    padding: 30px 30px;;\n  }\n\n  .login-btn {\n    text-align: center;\n  }\n\n  .login-btn button {\n    width: 100%;\n    height: 36px;\n    margin-bottom: 10px;\n  }\n\n  .login-tips {\n    font-size: 12px;\n    line-height: 30px;\n    color: #fff;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/pages/Login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loginShow),expression:\"loginShow\"}],staticClass:\"login-wrap\"},[_c('div',{staticClass:\"login-title\"},[_vm._v(\"后台管理系统\")]),_vm._v(\" \"),_c('el-form',{ref:\"form\",staticClass:\"login-content\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"label-width\":\"0px\"}},[_c('el-form-item',{attrs:{\"prop\":\"username\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入用户名\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.submitForm('form')}},model:{value:(_vm.form.username),callback:function ($$v) {_vm.$set(_vm.form, \"username\", $$v)},expression:\"form.username\"}},[_c('template',{slot:\"prepend\"},[_vm._v(\"帐号\")])],2)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"password\"}},[_c('el-input',{attrs:{\"show-password\":\"\",\"placeholder\":\"请输入密码\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.submitForm('form')}},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}},[_c('template',{slot:\"prepend\"},[_vm._v(\"密码\")])],2)],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"login-btn\"},[_c('el-row',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('form')}}},[_vm._v(\"登录\")])],1),_vm._v(\" \"),_c('el-row',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleRegisterClick()}}},[_vm._v(\"注册\")])],1)],1)],1)],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.loginShow),expression:\"!loginShow\"}],staticClass:\"register-wrap\"},[_c('div',{staticClass:\"login-title\"},[_vm._v(\"用户注册\")]),_vm._v(\" \"),_c('el-form',{ref:\"registerForm\",staticClass:\"login-content\",attrs:{\"model\":_vm.registerForm,\"rules\":_vm.registerRules,\"label-width\":\"0px\"}},[_c('el-form-item',{attrs:{\"prop\":\"name\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入用户昵称\"},model:{value:(_vm.registerForm.name),callback:function ($$v) {_vm.$set(_vm.registerForm, \"name\", $$v)},expression:\"registerForm.name\"}},[_c('template',{slot:\"prepend\"},[_vm._v(\"用户昵称\")])],2)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"username\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入登录账号\"},model:{value:(_vm.registerForm.username),callback:function ($$v) {_vm.$set(_vm.registerForm, \"username\", $$v)},expression:\"registerForm.username\"}},[_c('template',{slot:\"prepend\"},[_vm._v(\"登录帐号\")])],2)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"email\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入登录账号\"},model:{value:(_vm.registerForm.email),callback:function ($$v) {_vm.$set(_vm.registerForm, \"email\", $$v)},expression:\"registerForm.email\"}},[_c('template',{slot:\"prepend\"},[_vm._v(\"注册邮箱\")])],2)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"password\"}},[_c('el-input',{attrs:{\"show-password\":\"\",\"placeholder\":\"请输入密码\"},model:{value:(_vm.registerForm.password),callback:function ($$v) {_vm.$set(_vm.registerForm, \"password\", $$v)},expression:\"registerForm.password\"}},[_c('template',{slot:\"prepend\"},[_vm._v(\"登录密码\")])],2)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"rePassword\"}},[_c('el-input',{attrs:{\"show-password\":\"\",\"placeholder\":\"请输入密码\"},model:{value:(_vm.registerForm.rePassword),callback:function ($$v) {_vm.$set(_vm.registerForm, \"rePassword\", $$v)},expression:\"registerForm.rePassword\"}},[_c('template',{slot:\"prepend\"},[_vm._v(\"密码确认\")])],2)],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"login-btn\"},[_c('el-row',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('registerForm')}}},[_vm._v(\"注册\")])],1),_vm._v(\" \"),_c('el-row',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleRegisterClick()}}},[_vm._v(\"返回登录\")])],1)],1)],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4a169402\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/pages/Login.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4a169402\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Login.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4a169402\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4a169402\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/pages/Login.vue\n// module id = null\n// module chunks = ","import request from '../request.js'\n\nconst loginUrl = \"/user/login\";\nconst registerUrl = \"/user/register\";\nconst activeUrl = \"/user/active\";\nconst loginOutUrl = \"/user/loginOut\";\n\nexport function login(username, password) {\n  return request.post(loginUrl, {\n    \"username\": username,\n    \"password\": password\n  });\n}\n\nexport function register(name, username, password, email) {\n  return request.post(registerUrl, {\n    \"name\": name,\n    \"username\": username,\n    \"password\": password,\n    \"email\": email\n  });\n}\n\n/**\n * 激活账号\n * @param username\n * @returns {*|Promise|Promise<any>}\n */\nexport function active(username, password) {\n  return request.post(activeUrl, {\n    \"username\": username,\n    \"password\": password\n  });\n}\n\nexport function loginOut() {\n  return request.get(loginOutUrl);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/UserApi.js"],"sourceRoot":""}